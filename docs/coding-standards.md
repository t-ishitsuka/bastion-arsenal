# コーディング規約

## 基本方針

- Go 標準のフォーマット (`gofmt`)
- エラーは `fmt.Errorf("context: %w", err)` でラップ
- パッケージ間の依存は一方向: `cli → version → plugin → config`

## テスト

- **新しいコードを書く際は必ずテストを書く**
- テストファイルは同じパッケージ内に `*_test.go` として配置
- テーブル駆動テストを推奨
- 外部依存（ファイルシステム、ネットワーク）はモックまたは一時ディレクトリを使用
- テストカバレッジは `go test -cover` で確認
- テスト関数名は `Test<対象関数名>` または `Test<対象機能>` の形式

## 出力とログ

- ユーザー向け出力は絵文字プレフィックス (例: install 時 "📦 ダウンロード中..." など)
- 内部ログは `fmt.Printf` で統一（将来 log パッケージに切り替え可能）
- **注意**: CLAUDE.md や README.md 等のドキュメントには絵文字を使用しない

## コメント

- 関数、型、メソッドには日本語のコメントを付ける
- 複雑なロジックには説明コメントを追加
- ドキュメントコメントでは関数名を繰り返さない（関数名は関数定義から明らか）
  - 良い例: `// 正しくパスを返すかテストする`
  - 悪い例: `// TestGetPaths は GetPaths 関数が正しくパスを返すかテストする`

## 命名規則

- 変数名、関数名、構造体名は英語
- パッケージ名は小文字の英単語（複数形は避ける）
- 非公開の変数/関数は小文字始まり
- 公開の変数/関数は大文字始まり
